

%%%%%%%%%%%%%%%% NOT FOR FINAL PRODUCT %%%%%%%%%%%%%%%%
% \input{texmex/writingtools.sty}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




% ----------------------------------------
% proper euler 'e' and imaginary 'i', etc.:

\makeatletter
\newcommand*{\eu}[1][\@nil]{%
\def\tmp{#1}%
    \ifx\tmp\@nnil
        \ensuremath{\mathrm{e}}
    \else
        \ensuremath{\mathrm{e}^{#1}}
    \fi}
\makeatother

\providecommand*{\im}{\ensuremath{\mathrm{i}}}
\providecommand*{\ppi}{\ensuremath{\text{\textpi}}}



% units:
\providecommand*{\unit}[1]{~\ensuremath{\mathrm{#1}}}


% ---------------------------
% single word sub/superscrips:

\providecommand*{\ped}[1]{\ensuremath{_\mathrm{#1}}}    % pedex
\providecommand*{\ap}[1]{\ensuremath{^\mathrm{#1}}}     % apex
\providecommand*{\gped}[1]{\ensuremath{_\text{#1}}}     % greek pedex (fixme)



% ------------------
% closed parantheses:
\providecommand*{\pclosed}[1]{\ensuremath{\left( #1 \right)}}   % parantheses ()
\providecommand*{\bclosed}[1]{\ensuremath{\left[ #1 \right]}}   % brackets []
\providecommand*{\cclosed}[1]{\ensuremath{\left\{ #1 \right\}}}   % parantheses ()





% ---------------------
% proper infinitesimals:

\makeatletter % (for use of @ below)
\newcommand{\diff}[1][\@nil]{%
\def\tmp{#1}%
    \ifx\tmp\@nnil
        \ensuremath{\mathrm{d}}
    \else
        % \ensuremath{\mathrm{d}^{#1}}
        \ensuremath{d^{#1}}\!
    \fi}
\makeatother


\makeatletter
\newcommand{\infinitesimal}[2][\@nil]{\diff[#1] #2}
\makeatother 


\makeatletter
\newcommand{\dx}[1][\@nil]{\infinitesimal[#1]x}
\makeatother


% ---------
% integrals:
\newcommandx*\integ[5][1=1, 2=1, 4= , 5= , usedefault]{%
\def\dim{#1}% dimensions
\def\fra{#2}% fraction?
\def\one{1}%
\int_{#4}^{#5} \!
    \ifx\fra\one
        \ifx\dim\one
            \infinitesimal{#3}
        \else 
            \infinitesimal[\dim]{#3}
        \fi
    \else
        \ifx\dim\one
            \frac{\infinitesimal{#3}}{\fra}
        \else 
            \frac{\infinitesimal[\dim]{#3}}{\fra}
        \fi
    \fi
\, %
}



% ----------------------
% pretty fractions, misc:


\providecommand*{\shalf}{\ensuremath{\sfrac{1}{2}}}   % 1/2

\providecommand*{\widebar}[1]{\overline{#1}}

\newcommand*{\bnabla}{\vec{\nabla}}




% -------------------
% functions/operators:

% Dirac delta function 
\makeatletter % (for use of @ below)
\newcommand{\Diracdelta}[2][\@nil]{%
\text{\textdelta}
\def\tmp{#1}%
    \ifx\tmp\@nnil
    \else
        ^{(#1)}
    \fi
% (#2)
\!\pclosed{#2}   
}
\makeatother

% Kronecker delta symbol
\newcommand{\Krondelta}[1]{%
    \ensuremath{\text{\textdelta}\indices{#1}}}


% Heaviside step function
% \makeatletter % (for use of @ below)
\newcommand{\Heaviside}[1]{\ensuremath{\text{\textTheta}\!\pclosed{#1}}}
% \makeatother



% Levi-Civita symbol (not tensor)
\newcommandx*\LeviCivita[1]{\ensuremath{\tilde{\text{\textepsilon}}_{#1}}}



% ----------------
% Tensor shortcuts:
\renewcommand*{\^}[1]{\indices{^{#1}}}  % tens. index upper
\renewcommand*{\_}[1]{\indices{_{#1}}}  % tens. index lower
% Retrieve underscore _:
\newcommand*{\underscore}{\char`_}



\renewcommand*{\/}{\Big/}   % large division sign











% -----------
% Misc useful:


% Mathematical group:
\newcommand*\Group[2]{\textsf{#1(#2)}}

% Big-O notation:
\newcommand*\BigO[1]{\ensuremath{\mathscr{O}\big(#1\big)}}
% \newcommand*\order[1]{\BigO{#1}} % alias


\newcommand*\ZSym[1][2]{\ensuremath{\varmathbb{Z}_{\mathit{#1}}}}


% Planck units:
\providecommand*{\Planck}[1]{\ensuremath{#1_{\mathrm{Pl}}}}
% \providecommand*{\Planck}[1]{\ensuremath{#1_{\text{\tiny{Pl}}}}}





% --------------------- 
% Reocurring subscripts:

% \providecommand*{\subGW}{\ensuremath{_{\text{\tiny{GW}}}}}
\providecommand*{\subGW}{\ensuremath{_{\mathrm{gw}}}}



% --------------------------------
% Reocurring operators, quantities:


\providecommand{\redshift}{\ensuremath{\mathfrak{z}}}   % redshift z
\providecommand{\zz}{\ensuremath{\mathfrak{z}}}   % redshift z

% \providecommand{\scalefac}{\ensuremath{\mathfrak{a}}}   % scale factor a


% Projection tensor !!!! (FIX TO BE \mathop)
\newcommandx*{\ProjectionLambda}[2][]{%
    \Lambda\_{{#1}.{#2}}% 
}

% Christophel symbols
\newcommandx*{\ChristophelSym}[3][1=\Gamma]{%
    #1\indices*{^{#2}_{#3}}%
}


%%%%%%%%%
%\mathscr{text}
%\mathcal{text}
%\mathfrak{text}
%\mathbb{text}
%\varmathbb{text}
%\mathsf{text}
%\mathrm{text}
%%%%%%%%


% Special functions:
\makeatletter
\newcommand{\n@specialfunc}[1]{\mathcal{#1}}
%
\newcommandx*{\Bessel}[2][1=\nu, 2=1]{%
    \def\kind{#2}%
    \def\first{1}%
    \def\second{2}%
    \ifx\kind\first
        \ensuremath{\n@specialfunc{J}_{#1}}%
    \else
        \ifx\kind\second
            \Neumann[#1]%
        \fi
    \fi
}                                           % Bessel function
%
\newcommandx*{\Neumann}[1][1=\nu]{%
    \ensuremath{\n@specialfunc{N}_{#1}}%
}                                           % Neumann function
\makeatletter




% Number spaces:
\makeatletter
\newcommandx{\n@powerone}[2]{
    \def\one{1}
    \def\expo{#2}
    \def\arg{#1}
    \ifx\expo\one
        \ensuremath{\arg}
    \else
        \ensuremath{\arg^{\expo}}
    \fi
}
\newcommand{\n@spacefont}[1]{\mathbb{#1}}
\newcommandx*{\Natural}{\ensuremath{\n@spacefont{N}}}               % Natural numbers 
\newcommandx*{\Real}[1][1=1]{\n@powerone{\n@spacefont{R}}{#1}}      % Real numbers 
\newcommandx*{\Complex}[1][1=1]{\n@powerone{\n@spacefont{C}}{#1}}   % Complex numbers 
\newcommandx*{\Integer}[1][1=1]{\n@powerone{\n@spacefont{Z}}{#1}}   % Integer numbers 
\newcommandx*{\Halfinteger}[1][1=1]{\n@powerone{\n@spacefont{Z}}{#1}+ \frac{1}{2}}   % Integer numbers 
\makeatother




% -----
% Names: (sake of consitency)

% codes:
\providecommand*{\latfield}{\textsc{lat}field2}
\providecommand*{\gevolution}{\textit{gevolution}}
\providecommand*{\gwasevolution}{\textit{gwasevolution}}

% programming:
\providecommand*{\Python}{\texttt{Python}}
\providecommand*{\Cpp}{\texttt{C++}}





% ---------
% Environments:
\newenvironment{eqsplit}{% does not work
    \begin{equation}%
        \begin{split}%
}{%
        \end{split}%
    \end{equation}%
}














% ------------------
% Colours from uiofp:


\definecolor{uioblue}{rgb}{0.525, 0.642, 0.969}
\definecolor{uiolightblue}{rgb}{0.902, 0.925, 1.000}
\definecolor{uioorange}{rgb}{0.992, 0.796, 0.529}
\definecolor{uiolightorange}{rgb}{1.000, 0.910, 0.831}
\definecolor{uiopink}{rgb}{0.984, 0.400, 0.400}
\definecolor{uiolightpink}{rgb}{0.996, 0.878, 0.878}
\definecolor{uiogreen}{rgb}{0.484, 0.882, 0.671}
\definecolor{uiolightgreen}{rgb}{0.808, 1.00, 0.875}
\definecolor{uiogray}{gray}{0.700}
\definecolor{uiogrey}{gray}{0.700}
\definecolor{uiolightgray}{gray}{0.912}
\definecolor{uiolightgrey}{gray}{0.912}